[gd_scene load_steps=12 format=2]

[ext_resource path="res://FamilyDinner.gd" type="Script" id=1]
[ext_resource path="res://ui/OptionsPanel.tscn" type="PackedScene" id=2]
[ext_resource path="res://ui/NarrativePanel.tscn" type="PackedScene" id=3]
[ext_resource path="res://icon.png" type="Texture" id=4]
[ext_resource path="res://Person.gd" type="Script" id=5]
[ext_resource path="res://people/mil_port.png" type="Texture" id=6]
[ext_resource path="res://people/sil_port.png" type="Texture" id=7]
[ext_resource path="res://people/fil_port.png" type="Texture" id=8]
[ext_resource path="res://people/bil_port.png" type="Texture" id=9]
[ext_resource path="res://Conversation.gd" type="Script" id=10]
[ext_resource path="res://ui/AnexityBar.tscn" type="PackedScene" id=11]

[node name="FamilyDinner" type="Node2D"]
script = ExtResource( 1 )

[node name="ui" type="Control" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 1024.0
margin_bottom = 600.0
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="AnexityBar" parent="ui" instance=ExtResource( 11 )]
target = 5.0

[node name="narrative" parent="ui" instance=ExtResource( 3 )]
visible = false

[node name="options" parent="ui" instance=ExtResource( 2 )]
margin_top = -156.0
margin_bottom = 4.0

[node name="MarginContainer" type="MarginContainer" parent="ui"]
margin_left = 78.0
margin_top = 4.0
margin_right = 286.0
margin_bottom = 44.0
custom_constants/margin_right = 10
custom_constants/margin_top = 10
custom_constants/margin_left = 10
custom_constants/margin_bottom = 10
__meta__ = {
"_edit_group_": true,
"_edit_use_anchors_": false
}

[node name="rewind_btn" type="Button" parent="ui/MarginContainer"]
margin_left = 10.0
margin_top = 10.0
margin_right = 198.0
margin_bottom = 30.0
text = "<< Rewind 1 step (dev only)"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="conversation" type="Node" parent="."]
script = ExtResource( 10 )
participants_path = NodePath("../dining_room/occupants")

[node name="dining_room" type="CanvasLayer" parent="."]
layer = -1

[node name="occupants" type="Node" parent="dining_room"]

[node name="mother-in-law" type="Sprite" parent="dining_room/occupants"]
modulate = Color( 0.392157, 0.843137, 1, 1 )
position = Vector2( 102, 304 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "Mother-in-law"
speaker_portrait = ExtResource( 6 )

[node name="sister-in-law" type="Sprite" parent="dining_room/occupants"]
modulate = Color( 0.533333, 0.976471, 0.560784, 1 )
position = Vector2( 825.215, 269.751 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "Sister-in-law"
speaker_portrait = ExtResource( 7 )

[node name="brother-in-law" type="Sprite" parent="dining_room/occupants"]
modulate = Color( 0.533333, 0.603922, 0.976471, 1 )
position = Vector2( 1107.65, 222.003 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "Sister-in-law"
speaker_portrait = ExtResource( 9 )

[node name="significant_other" type="Sprite" parent="dining_room/occupants"]
modulate = Color( 0.984314, 0.737255, 0.690196, 1 )
position = Vector2( 686.872, 413.906 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "Significant other"

[node name="father-in-law" type="Sprite" parent="dining_room/occupants"]
modulate = Color( 1, 0.678431, 0.364706, 1 )
position = Vector2( 469.099, 181.449 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "Father in law"
speaker_portrait = ExtResource( 8 )

[node name="me" type="Sprite" parent="dining_room/occupants"]
position = Vector2( 423.01, 447.604 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "Me"
speaker_portrait = ExtResource( 4 )

[node name="inner_voice" type="Sprite" parent="dining_room/occupants"]
modulate = Color( 1, 1, 1, 0.52549 )
position = Vector2( 384.01, 458.604 )
texture = ExtResource( 4 )
script = ExtResource( 5 )
speaker_name = "My inner voice"
speaker_portrait = ExtResource( 4 )
[connection signal="pressentation_completed" from="ui/narrative" to="." method="_on_narrative_pressentation_completed"]
[connection signal="option_selected" from="ui/options" to="." method="_on_options_option_selected"]
[connection signal="pressed" from="ui/MarginContainer/rewind_btn" to="." method="_on_rewind_btn_pressed"]
